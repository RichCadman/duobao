function Anchor(){return(this instanceof Anchor)?this.Init():new Anchor();}Anchor.prototype.Init=function(){this.currNode=null;this.top=document.body.scrollTop||document.documentElement.scrollTop;
this.height=this.getWinHeigth();this.isTouch="ontouchstart" in window;this.isBindEvent=false;this.EventArray=new Array();};Anchor.prototype.addEventListener=function(a){this.EventArray.push(a);
};Anchor.prototype.bind=function(){var b=this;var a=this.isTouch?"touchstart":"mousedown";var c=this.isTouch?"touchend":"mouseup";if(b.currNode==null){b.currNode=b.createTopElement();
}this.addEvent(window,"scroll",function(){var f=document.body.scrollTop||document.documentElement.scrollTop;if(f>b.height){if(b.currNode==null){b.currNode=b.createTopElement();
}b.addClass(b.currNode,"float-top-show");var e=b.getOSVersion();if((e.browser.iPhone||e.browser.iPad)&&e.version<6){b.setPosition(b.currNode);}else{if(e.browser.android&&e.version<4){b.setPosition(b.currNode);
}}if(!b.isBindEvent){b.currNode.onclick=function(){var g=document.body.scrollTop||document.documentElement.scrollTop;b.scrollAnimate(g,0);};b.currNode.onmousedown=function(){b.addClass(b.currNode,"m-r-top-touch");
};for(var d=0;d<b.EventArray.length;d++){b.addEvent(b.currNode,"click",b.EventArray[d],false);}b.isBindEvent=true;}}else{b.removeTopElement(b.currNode);
b.isBindEvent=false;}},false);};Anchor.prototype.getOSVersion=function(){var d=10;var c=navigator.userAgent,e=navigator.appVersion;var a={android:c.indexOf("Android")>-1||c.indexOf("Linux")>-1,iPhone:c.indexOf("iPhone")>-1||c.indexOf("Mac")>-1,iPad:c.indexOf("iPad")>-1,webKit:c.indexOf("AppleWebKit")>-1,gecko:c.indexOf("Gecko")>-1&&c.indexOf("KHTML")==-1,webApp:c.indexOf("Safari")==-1};
if(a.android){if((temp=/Android ([1-9]\.\d[\.\d]*);/gi.exec(c))!=null){d=temp[1];}if(d.indexOf(".")!=-1){d=d.substring(0,d.indexOf("."));}}else{if(a.iPhone||a.iPad){if((temp=/OS ([3-9]_\d[_\d]*) like Mac OS X/gi.exec(c))!=null){d=temp[1].replace("_",".");
}}}return{browser:a,version:d};};Anchor.prototype.setPosition=function(a){var d=document.body.scrollTop||document.documentElement.scrollTop;a.style.position="absolute";
var e=parseInt(this.attrStyle(a,"bottom"));var b=this.getWinHeigth()-e;var c=this.getOSVersion();if(c.browser.webApp){b-=a.offsetHeight;}else{if(c.browser.gecko){b+=60;
}}a.style.top=b+d+"px";};Anchor.prototype.attrStyle=function(b,a){if(!b){return;}if(b.style[a]){return b.style[a];}else{if(b.currentStyle){return b.currentStyle[a];
}else{if(document.defaultView&&document.defaultView.getComputedStyle){a=a.replace(/([A-Z])/g,"-$1").toLowerCase();return document.defaultView.getComputedStyle(b,null).getPropertyValue(a);
}else{return null;}}}};Anchor.prototype.scrollAnimate=function(d,c){var a=+new Date();var h=d;var g=c;var b=500;var f=function(j,i){return -(j/=i)*(j-2);
};var e=setInterval(function(){var j=new Date()-a;var k,i;if(j>b){clearInterval(e);i=g;}else{k=f(j,b);i=k*(g-h)+h;}if(document.body.scrollTop){document.body.scrollTop=i;
}else{document.documentElement.scrollTop=i;}},10);};Anchor.prototype.createTopElement=function(){var b=document.createElement("a");b.id="movetop";b.href="javascript:void(0);";
b.className="float-r-ball float-top";var a=document.createElement("span");a.className="movetop-pic";var c=document.createElement("div");c.className="ico-top";
b.appendChild(a);b.appendChild(c);document.body.appendChild(b);return b;};Anchor.prototype.removeTopElement=function(a){if(a!=null){this.removeClass(a,"float-top-show");
}};Anchor.prototype.hasClass=function(a,c){var b=new RegExp("(\\s|^)"+c+"(\\s|$)");return a.className.match(b);};Anchor.prototype.addClass=function(a,b){if(!this.hasClass(a,b)){a.className+=" "+b;
}};Anchor.prototype.removeClass=function(a,c){if(this.hasClass(a,c)){var b=new RegExp("(\\s|^)"+c+"(\\s|$)");a.className=a.className.replace(b," ");}};
Anchor.prototype.getWinHeigth=function(){var a=0;if(window.innerHeight){a=Math.min(window.innerHeight,document.documentElement.clientHeight);}else{if(document.documentElement&&document.documentElement.clientHeight){a=document.documentElement.clientHeight;
}else{if(document.body){a=document.body.clientHeight;}}}return a;};Anchor.prototype.addEvent=function(e,c,b,a){if(!e){return;}if(e.addEventListener){e.addEventListener(c,b,a);
return true;}else{if(e.attachEvent){var d=e.attachEvent("on"+c,b);return d;}else{e["on"+c]=b;}}};var anchor=Anchor();anchor.addEvent(window,"load",function(){anchor.bind();
},false);